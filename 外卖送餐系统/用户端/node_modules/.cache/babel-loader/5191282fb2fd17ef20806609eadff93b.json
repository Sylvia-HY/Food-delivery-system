{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\shoppingCart\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\shoppingCart\\index.vue","mtime":1661932653010},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1641885170443},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCBjYWxjdWxhdGUgZnJvbSAiQC91dGlscy9jYWxjdWxhdGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNob3BwaW5nSW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogIiIsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBhY3RpdmU6ICIiLAogICAgICByZXBseWNvbnRlbnQ6ICIiLAogICAgICBjb2RlOiAiIiwKICAgICAgc2hvcHBpbmdjYXJ0TGlzdDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKCFzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJpZCIpKSB7CiAgICAgIHRoaXMuJHRvYXN0KCLor7flhYjnmbvlvZUiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9teSIpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXBpLm9yZGVyc2xpc3QoewogICAgICAgIGxpbWl0OiA5OTksCiAgICAgICAgb2Zmc2V0OiAxLAogICAgICAgIGNvZGU6IHRoaXMudmFsdWUsCiAgICAgICAgc3RhdHVzOiB0aGlzLmFjdGl2ZSwKICAgICAgICB1aWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnRvdGFsID4gMCkgewogICAgICAgICAgdmFyIGFyciA9IHt9OwogICAgICAgICAgcmVzLmRhdGEubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIGlmICghYXJyW2kuY29kZV0pIHsKICAgICAgICAgICAgICBhcnJbaS5jb2RlXSA9IHsKICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgY29kZTogaS5jb2RlLAogICAgICAgICAgICAgICAgc25hbWU6IGkuc25hbWUsCiAgICAgICAgICAgICAgICBzaW1nOiBpLnNpbWcsCiAgICAgICAgICAgICAgICBzaWQ6IGkuc2lkLAogICAgICAgICAgICAgICAgdGltZTogaS50aW1lLAogICAgICAgICAgICAgICAgZ29vZHM6IFtpXSwKICAgICAgICAgICAgICAgIHN0YXR1czogaS5zdGF0dXMsCiAgICAgICAgICAgICAgICB0eXBlOiBpLnR5cGUsCiAgICAgICAgICAgICAgICBwYXljb2RlOiBpLnBheWNvZGUsCiAgICAgICAgICAgICAgICBzdG9yZXJlcGx5OiBpLnN0b3JlcmVwbHkKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFycltpLmNvZGVdLmdvb2RzLnB1c2goaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgT2JqZWN0LnZhbHVlcyhhcnIpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKGkpOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgc29ydEFyciA9IGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYi5pZCAtIGEuaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIGxpc3QgPSBzb3J0QXJyOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuc2hvcHBpbmdjYXJ0TGlzdCA9IGxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaUr+S7mAogICAgcGF5OiBmdW5jdGlvbiBwYXkoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGFwaS5jaGFuZ2VzdGF0dXMoewogICAgICAgIGNvZGU6IGl0ZW0uY29kZSwKICAgICAgICBzdGF0dXM6ICLlvoXmoLjplIAiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzMi4kdG9hc3QoIuaUr+S7mOaIkOWKnyEiKTsKCiAgICAgICAgICBfdGhpczIuZ2V0RGF0YSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+N6aaICiAgICByZXBseTogZnVuY3Rpb24gcmVwbHkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucmVwbHljb250ZW50ID09ICIiKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuWPjemmiOS4uuepuiEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGFwaS5jaGFuZ2VzdGF0dXMoewogICAgICAgIGNvZGU6IHRoaXMuY29kZSwKICAgICAgICByZXBseTogdGhpcy5yZXBseWNvbnRlbnQsCiAgICAgICAgc3RhdHVzOiAi5bey5a6M5oiQIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuJHRvYXN0KCLlj43ppojmiJDlip8hIik7CgogICAgICAgICAgX3RoaXMzLmdldERhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaguOmUgAogICAgdmVyaWZpY2F0aW9uOiBmdW5jdGlvbiB2ZXJpZmljYXRpb24oaXRlbSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGFwaS5jaGFuZ2VzdGF0dXMoewogICAgICAgIGNvZGU6IGl0ZW0uY29kZSwKICAgICAgICBzdGF0dXM6ICLlt7LmoLjplIAiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzNC4kdG9hc3QoIuaguOmUgOaIkOWKnyEiKTsKCiAgICAgICAgICBfdGhpczQuZ2V0RGF0YSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc3VtUHJpY2U6IGZ1bmN0aW9uIHN1bVByaWNlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAocm93cykgewogICAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICB0b3RhbCArPSBOdW1iZXIoY2FsY3VsYXRlLmNoZW5nKE51bWJlcihpLm51bSksIE51bWJlcihpLnByaWNlKSkpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBfdGhpczUuJHRvb2wucm91bmQodG90YWwsIDIpOwogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHt9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"shopping-container\">\n    <div class=\"commodity-head\">\n      <van-nav-bar left-arrow @click-left=\"$router.back()\" title=\"订单\" />\n    </div>\n    <van-sticky>\n      <van-tabs v-model=\"active\" color=\"rgb(102, 161, 136)\" @change=\"getData\">\n        <van-tab title=\"全部\" name=\"\"></van-tab>\n        <van-tab title=\"待付款\" name=\"待付款\"></van-tab>\n        <van-tab title=\"待核销\" name=\"待核销\"></van-tab>\n        <van-tab title=\"待反馈\" name=\"已核销\"></van-tab>\n        <van-tab title=\"已完成\" name=\"已完成\"></van-tab>\n      </van-tabs>\n    </van-sticky>\n    <div class=\"home-search\">\n      <van-search v-model=\"value\" placeholder=\"请输入订单号搜索订单\" icon-prefix=\"iconfont\" left-icon=\"iconfont icon-search\" @input=\"getData\" />\n    </div>\n    <!-- <div class=\"gradual-change\"></div> -->\n    <div class=\"shoppingcart-list\">\n      <ul>\n        <li class=\"shopping-cart\" v-for=\"(shoppingcart, sindex) in shoppingcartList\" :key=\"sindex\">\n          <div class=\"shoppingcart-head\" @click=\"$router.push('/commodity?id=' + shoppingcart.sid)\">\n            <p class=\"shop-name\">{{ shoppingcart.sname }}</p>\n            <p class=\"iconfont icon-arrow-right\"></p>\n          </div>\n          <p style=\"padding: 0 15px 15px 15px; color: rgb(102, 161, 136)\" class=\"f-r f-a-c f-j-s\">\n            <span>订单号: {{ shoppingcart.code }}</span>\n            <span class=\"font13\">{{ shoppingcart.type }}</span>\n          </p>\n          <div class=\"shoppingcart-body\">\n            <ul>\n              <li class=\"order-list\" v-for=\"(order, oindex) in shoppingcart.goods\" :key=\"oindex\">\n                <img :src=\"order.img\" alt=\"\" />\n                <div class=\"order-right\">\n                  <p class=\"order-name font-hidden\" style=\"width: 130px\">{{ order.name }}</p>\n                  <p class=\"order-price\">￥{{ order.price }}</p>\n                  <p class=\"order-share\">× {{ order.num }}</p>\n                </div>\n              </li>\n            </ul>\n            <div class=\"order-sum-price mb20\" v-if=\"shoppingcart.status=='待核销'\">\n              <span class=\"pt10 pb10 font18 font-default f-r f-a-c f-j-s\">\n                <span>核销码:{{ shoppingcart.paycode }}</span>\n                <van-button type=\"primary\" size=\"small\" color=\"rgb(102, 161, 136)\" v-show=\"shoppingcart.status == '待核销'\" @click=\"$router.push(`/location?code=${shoppingcart.code}`)\">骑手位置</van-button>\n              </span>\n            </div>\n            <div class=\" order-sum-price\">\n              <span class=\"order-p\">小计</span>\n              <span class=\"order-span\">￥</span>\n              <span class=\"order-total\">{{ sumPrice(shoppingcart.goods) }}</span>\n            </div>\n          </div>\n          <div class=\"button\">\n            <van-button class=\"button1\" type=\"primary\" size=\"small\" color=\"rgb(102, 161, 136)\" v-show=\"shoppingcart.status == '待付款'\" @click=\"pay(shoppingcart)\">立即支付</van-button>\n            <van-button class=\"button1\" type=\"primary\" size=\"small\" color=\"rgb(102, 161, 136)\" v-show=\"shoppingcart.status == '已核销'\" @click=\"\n                code = shoppingcart.code;\n                show = true;\n              \">反馈</van-button>\n            <van-button class=\"button1\" type=\"primary\" size=\"small\" color=\"rgb(102, 161, 136)\" v-show=\"shoppingcart.status == '待核销' && shoppingcart.type == '外卖配送'\" @click=\"verification(shoppingcart)\">核销</van-button>\n            <div v-show=\"shoppingcart.status == '待核销' && shoppingcart.type == '店内就餐'\" style=\"color:rgb(102, 161, 136)\" class=\"pt10 pr20 pb10\">待核销</div>\n            <div v-show=\"shoppingcart.storereply\" class=\"font-default pr20 pl20 pt10\">商家回复:{{shoppingcart.storereply}}</div>\n            <div v-show=\"shoppingcart.status == '已完成'\" class=\"font-default p20\">已完成</div>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n    <!-- 反馈 -->\n    <van-dialog v-model=\"show\" title=\"反馈\" show-cancel-button confirmButtonColor=\"rgb(102, 161, 136)\" @close=\"replycontent = ''\" @confirm=\"reply\">\n      <van-field v-model=\"replycontent\" rows=\"4\" autosize label=\"\" type=\"textarea\" placeholder=\"请输入反馈\" />\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport * as api from \"@/api/api\";\nimport calculate from \"@/utils/calculate\";\n\nexport default {\n  name: \"ShoppingIndex\",\n  data() {\n    return {\n      value: \"\",\n      show: false,\n      active: \"\",\n      replycontent: \"\",\n      code: \"\",\n      shoppingcartList: [],\n    };\n  },\n  created() {\n    if (!sessionStorage.getItem(\"id\")) {\n      this.$toast(\"请先登录\");\n      this.$router.push(\"/my\");\n      return;\n    }\n    this.getData();\n  },\n  methods: {\n    getData() {\n      api\n        .orderslist({\n          limit: 999,\n          offset: 1,\n          code: this.value,\n          status: this.active,\n          uid: sessionStorage.getItem(\"id\"),\n        })\n        .then((res) => {\n          let list = [];\n          if (res.data.total > 0) {\n            let arr = {};\n            res.data.list.forEach((i) => {\n              if (!arr[i.code]) {\n                arr[i.code] = {\n                  id: i.id,\n                  code: i.code,\n                  sname: i.sname,\n                  simg: i.simg,\n                  sid: i.sid,\n                  time: i.time,\n                  goods: [i],\n                  status: i.status,\n                  type: i.type,\n                  paycode: i.paycode,\n                  storereply: i.storereply,\n                };\n              } else {\n                arr[i.code].goods.push(i);\n              }\n            });\n            Object.values(arr).forEach((i) => {\n              list.push(i);\n            });\n\n            let sortArr = list.sort((a, b) => {\n              return b.id - a.id;\n            });\n            list = sortArr;\n          }\n          this.shoppingcartList = list;\n        });\n    },\n\n    // 支付\n    pay(item) {\n      api\n        .changestatus({\n          code: item.code,\n          status: \"待核销\",\n        })\n        .then((res) => {\n          if (res.code == 200) {\n            this.$toast(\"支付成功!\");\n            this.getData();\n          }\n        });\n    },\n\n    // 反馈\n    reply() {\n      if (this.replycontent == \"\") {\n        this.$toast(\"反馈为空!\");\n        return;\n      }\n      api\n        .changestatus({\n          code: this.code,\n          reply: this.replycontent,\n          status: \"已完成\",\n        })\n        .then((res) => {\n          if (res.code == 200) {\n            this.$toast(\"反馈成功!\");\n            this.getData();\n          }\n        });\n    },\n\n    // 核销\n    verification(item) {\n      api\n        .changestatus({\n          code: item.code,\n          status: \"已核销\",\n        })\n        .then((res) => {\n          if (res.code == 200) {\n            this.$toast(\"核销成功!\");\n            this.getData();\n          }\n        });\n    },\n  },\n  computed: {\n    sumPrice() {\n      return (rows) => {\n        let total = 0;\n        rows.forEach((i) => {\n          total += Number(calculate.cheng(Number(i.num), Number(i.price)));\n        });\n        return this.$tool.round(total, 2);\n      };\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style scoped lang=\"less\">\n.shopping-container {\n  padding-bottom: 95px;\n}\n.commodity-head /deep/ .van-nav-bar__content {\n  background-color: rgb(102, 161, 136);\n  height: 70px;\n  line-height: 50px;\n}\n.commodity-head /deep/ .van-nav-bar__title {\n  font-size: 20px;\n  font-weight: 600;\n}\n.commodity-head /deep/ .van-icon-arrow-left::before {\n  font-size: 20px;\n  font-weight: 600;\n  //   margin-top: -160px;\n  color: #000;\n}\n.gradual-change {\n  width: 100%;\n  height: 300px;\n  background-image: linear-gradient(\n    rgb(102, 161, 136),\n    rgb(102, 161, 136),\n    #b8d9c6,\n    #b8d9c6,\n    #fff\n  );\n  margin-top: -1px;\n}\n.home-search {\n  padding: 8px 21px 5px 28px;\n}\n.home-search /deep/ .van-search {\n  width: 320px;\n}\n.home-search /deep/ .van-search__content {\n  width: 320px;\n  height: 40px;\n  line-height: 50px;\n  padding-top: 8px;\n  padding-left: 15px;\n  border-radius: 12px;\n  box-shadow: 0 0 5px 2px rgb(216, 216, 216);\n  background: #fff;\n}\n.home-search /deep/ .icon-search:before {\n  font-size: 20px;\n  font-weight: 700;\n  color: rgb(102, 161, 136);\n}\n.home-search /deep/ .van-field__control {\n  padding-left: 15px;\n  font-size: 16px;\n}\n.home-search /deep/ .van-field__clear {\n  font-size: 20px;\n  // font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.shopping-cart {\n  // position: absolute;\n  // top: 80px;\n  // left: 17px;\n  width: 340px;\n  // height: 500px;\n  background-color: #fff;\n  border-radius: 15px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n  margin: 8px 0 0 17px;\n}\n.shoppingcart-head {\n  height: 70px;\n  line-height: 70px;\n}\n.shop-name {\n  font-size: 20px;\n  font-weight: 600;\n  padding: 0px 15px;\n  float: left;\n}\n.icon-arrow-right {\n  float: left;\n  font-size: 20px;\n  font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.shoppingcart-body {\n  // height: 100px;\n  padding-left: 10px;\n  // background-color: green;\n}\n.order-list {\n  display: flex;\n  width: 320px;\n  height: 80px;\n  // background-color: pink;\n  padding-bottom: 2px;\n}\n.order-list > img {\n  width: 76px;\n  height: 76px;\n  border-radius: 5px;\n  margin: 2px;\n}\n.order-right {\n  margin-left: 0px;\n  padding-left: 15px;\n  margin-top: 5px;\n}\n.order-name {\n  width: 150px;\n  font-size: 18px;\n  font-weight: 600;\n  float: left;\n  // margin-right: 40px;\n}\n.order-price {\n  float: left;\n  font-size: 20px;\n  font-weight: 600;\n}\n.order-share {\n  padding-top: 45px;\n}\n.order-sum-price {\n  text-align: right;\n  padding-top: 15px;\n  padding-right: 20px;\n}\n.order-p {\n  margin-left: 190px;\n  // float: left;\n  font-size: 15px;\n  margin-right: 10px;\n}\n.order-span {\n  font-size: 13px;\n  font-weight: 600;\n}\n.order-total {\n  // float: left;\n  font-size: 22px;\n  font-weight: 600;\n}\n.button {\n  text-align: right;\n}\n.button1 {\n  border-radius: 5px !important;\n  margin: 12px 15px;\n}\n</style>\n"],"sourceRoot":"src/views/shoppingCart"}]}