{"remainingRequest":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js!E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\2022\\082601-外卖送餐\\用户端\\src\\views\\order\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\src\\views\\order\\index.vue","mtime":1661928680398},{"path":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1641885170443},{"path":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"E:\\项目\\2022\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkU6L1x1OTg3OVx1NzZFRS8yMDIyLzA4MjYwMS1cdTU5MTZcdTUzNTZcdTkwMDFcdTk5MTAvXHU3NTI4XHU2MjM3XHU3QUVGL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU5ODc5XHU3NkVFLzIwMjIvMDgyNjAxLVx1NTkxNlx1NTM1Nlx1OTAwMVx1OTkxMC9cdTc1MjhcdTYyMzdcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovXHU5ODc5XHU3NkVFLzIwMjIvMDgyNjAxLVx1NTkxNlx1NTM1Nlx1OTAwMVx1OTkxMC9cdTc1MjhcdTYyMzdcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQdWxsVG8gZnJvbSAidnVlLXB1bGwtdG8iOwppbXBvcnQgY2FsY3VsYXRlIGZyb20gIkAvdXRpbHMvY2FsY3VsYXRlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9GSUxFLAogICAgICB0eXBlOiAi5bqX5YaF5bCx6aSQIiwKICAgICAgc2hvcHBpbmdGb29kTGlzdDogW10sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgc3RvcmVJbmZvOiB7fSwKICAgICAgZm9ybTogewogICAgICAgIGFkZHI6ICIiLAogICAgICAgIHRlbDogIiIKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFB1bGxUbzogUHVsbFRvCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLiRyb3V0ZS5wYXJhbXMuc2hvcHBpbmdGb29kTGlzdCkgewogICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5zaG9wcGluZ0Zvb2RMaXN0ID0gdGhpcy4kcm91dGUucGFyYW1zLnNob3BwaW5nRm9vZExpc3Q7CiAgICB0aGlzLnN0b3JlSW5mbyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5zdG9yZUluZm87CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDov5Tlm54KICAgIHJlYmFjazogZnVuY3Rpb24gcmViYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImNvbW1vZGl0eSIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiB0aGlzLnN0b3JlSW5mby5pZAogICAgICAgIH0sCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzaG9wcGluZ0Zvb2RMaXN0OiB0aGlzLnNob3BwaW5nRm9vZExpc3QKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5LiK5Lyg5Zu+54mHCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBkYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGUuZmlsZSk7CiAgICAgIGF4aW9zLnBvc3QodGhpcy51cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmZvcm0ucGltZyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsOiBmdW5jdGlvbiBkZWwoKSB7CiAgICAgIHRoaXMuZm9ybS5waW1nID0gIiI7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgIH0sCiAgICAvL+aPkOS6pOiuouWNlQogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgU25vd2ZsYWtlLCBpZFdvcmtlciwgY29kZSwgcGFyYW0sIF9pdGVyYXRvciwgX3N0ZXAsIGksIG1lbnUsIHN0b3JlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyDpm6roirHnrpfms5XnlJ/miJDorqLljZXlj7cKICAgICAgICAgICAgICAgIFNub3dmbGFrZSA9IHJlcXVpcmUoIkBheGloZS9zbm93Zmxha2UiKTsKICAgICAgICAgICAgICAgIGlkV29ya2VyID0gbmV3IFNub3dmbGFrZSgwLCAwKTsKICAgICAgICAgICAgICAgIGNvZGUgPSBpZFdvcmtlci5uZXh0SWQoKS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgcGFyYW0gPSB7CiAgICAgICAgICAgICAgICAgIHBheWNvZGU6IF90aGlzMi4kdG9vbC5yYW5kb20oMTU4OTQ0LCA5ODQ2ODcpLAogICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6ICLlvoXku5jmrL4iLAogICAgICAgICAgICAgICAgICB0eXBlOiBfdGhpczIudHlwZSwKICAgICAgICAgICAgICAgICAgc2lkOiBfdGhpczIuc3RvcmVJbmZvLmlkLAogICAgICAgICAgICAgICAgICB1aWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlkIikKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLnR5cGUgPT0gIuWkluWNlumFjemAgSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpczIuZm9ybSkuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmZvcm1ba10gPT0gIiIgfHwgIV90aGlzMi5mb3JtW2tdKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg1KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KCLor7floavlhpnlrozmlbTphY3pgIHkv6Hmga/lkozku6Plj5bkv6Hmga8hIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBwYXJhbSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW0pLCBfdGhpczIuZm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczIuc2hvcHBpbmdGb29kTGlzdCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5vcmRlcnNzYXZlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW0pLCB7fSwgewogICAgICAgICAgICAgICAgICBuYW1lOiBpLm5hbWUsCiAgICAgICAgICAgICAgICAgIG10eXBlOiBpLnR5cGUsCiAgICAgICAgICAgICAgICAgIHByaWNlOiBpLnByaWNlLAogICAgICAgICAgICAgICAgICBudW06IGkuYnV5TnVtLAogICAgICAgICAgICAgICAgICBpbWc6IGkuaW1nCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLm1lbnVzb25lKHsKICAgICAgICAgICAgICAgICAgaWQ6IGkuaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgbWVudSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLm1lbnVzc2F2ZSh7CiAgICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgICBtb250aG51bTogTnVtYmVyKG1lbnUuZGF0YS5tb250aG51bSkgKyBOdW1iZXIoaS5idXlOdW0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDE1KTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50MSk7CgogICAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzM7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDMzKTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuc3RvcmVzb25lKHsKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5zdG9yZUluZm8uaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgICAgc3RvcmUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5zdG9yZXNzYXZlKHsKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5zdG9yZUluZm8uaWQsCiAgICAgICAgICAgICAgICAgIG1vbnRobnVtOiBOdW1iZXIoc3RvcmUuZGF0YS5tb250aG51bSkgKyAxCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoIuS4i+WNleaIkOWKnyEiKTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9zaG9wcGluZ0NhcnQiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKCiAgICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNSwgOV0sIFsxNSwgMzAsIDMzLCAzNl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWw6IGZ1bmN0aW9uIHRvdGFsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgICAgdG90YWwgPSBOdW1iZXIoY2FsY3VsYXRlLmNoZW5nKE51bWJlcihpdGVtLmJ1eU51bSksIE51bWJlcihpdGVtLnByaWNlKSkpOwogICAgICAgIHJldHVybiBfdGhpczMuJHRvb2wuZmxvb3IodG90YWwsIDIpOwogICAgICB9OwogICAgfSwKICAgIHN1bVByaWNlOiBmdW5jdGlvbiBzdW1QcmljZSgpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKICAgICAgdGhpcy5zaG9wcGluZ0Zvb2RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICB0b3RhbCArPSBOdW1iZXIoY2FsY3VsYXRlLmNoZW5nKE51bWJlcihpLmJ1eU51bSksIE51bWJlcihpLnByaWNlKSkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuJHRvb2wuZmxvb3IodG90YWwsIDIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"submitOrder\">\n    <div class=\"commodity-head\">\n      <van-nav-bar left-arrow @click-left=\"reback\" title=\"提交订单\" :fixed=\"true\" />\n    </div>\n    <div class=\"gradual-change\"></div>\n\n    <div class=\"father\">\n      <div class=\"dining-style\">\n        <p class=\"dining-style-tital\">就餐方式</p>\n        <van-button :class=\"type == '店内就餐' ? 'in-store' : 'in-store1'\" icon-prefix=\"iconfont\" icon=\"iconfont icon-dianpu\" type=\"primary\" @click=\"type = '店内就餐'\">店内就餐</van-button>\n        <van-button :class=\"type == '外卖配送' ? 'delivery1' : 'delivery'\" icon-prefix=\"iconfont\" icon=\"iconfont icon-qishou\" type=\"primary\" @click=\"type = '外卖配送'\">外卖配送</van-button>\n      </div>\n\n      <div class=\"dining-style\" v-show=\"type == '外卖配送'\" style=\"height: auto\">\n        <p class=\"dining-style-tital\" style=\"margin-bottom: 10px\">配送信息</p>\n        <div style=\"padding: 5px 0\">\n          <van-field v-model=\"form.tel\" label=\"联系号码\" placeholder=\"请输入联系号码\" />\n        </div>\n        <div style=\"padding: 5px 0\">\n          <van-field v-model=\"form.addr\" label=\"收货地址\" placeholder=\"请输入收货地址\" type=\"textarea\" rows=\"3\" />\n        </div>\n      </div>\n\n      <!-- 订单列表 -->\n      <div class=\"order-list\">\n        <p class=\"shop-name\">{{ storeInfo.name }}</p>\n        <pull-to class=\"seamless-warp\">\n          <ul>\n            <li class=\"order-details\" v-for=\"order in shoppingFoodList\" :key=\"order.name\">\n              <img :src=\"order.img\" alt=\"\" />\n              <div class=\"order-right\">\n                <p class=\"order-name font-hidden\" style=\"width: 120px\">{{ order.name }}</p>\n                <p class=\"order-price\">￥{{ total(order) }}</p>\n              </div>\n            </li>\n          </ul>\n        </pull-to>\n      </div>\n    </div>\n    <div class=\"shoppingCart\" is-link style=\"position: absolute; z-index: 9999\">\n      <span class=\"order-total\" style=\"padding-left: 20px\">￥{{ sumPrice }}</span>\n      <p class=\"settlement\" @click=\"submit\">提交订单</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PullTo from \"vue-pull-to\";\nimport calculate from \"@/utils/calculate\";\nimport axios from \"axios\";\nimport * as api from \"@/api/api\";\n\nexport default {\n  name: \"order\",\n  data() {\n    return {\n      url: process.env.VUE_APP_BASE_FILE,\n      type: \"店内就餐\",\n      shoppingFoodList: [],\n      fileList: [],\n      storeInfo: {},\n      form: {\n        addr: \"\",\n        tel: \"\",\n      },\n    };\n  },\n  components: {\n    PullTo,\n  },\n  created() {\n    if (!this.$route.params.shoppingFoodList) {\n      this.$router.back();\n      return;\n    }\n    this.shoppingFoodList = this.$route.params.shoppingFoodList;\n    this.storeInfo = this.$route.params.storeInfo;\n  },\n  methods: {\n    // 返回\n    reback() {\n      this.$router.push({\n        name: \"commodity\",\n        query: {\n          id: this.storeInfo.id,\n        },\n        params: {\n          shoppingFoodList: this.shoppingFoodList,\n        },\n      });\n    },\n\n    //上传图片\n    afterRead(file) {\n      let data = new FormData();\n      data.append(\"file\", file.file);\n\n      axios.post(this.url, data).then((res) => {\n        this.form.pimg = res.data.data;\n      });\n    },\n\n    // 删除\n    del() {\n      this.form.pimg = \"\";\n      this.fileList = [];\n    },\n\n    //提交订单\n    async submit() {\n      // 雪花算法生成订单号\n      const Snowflake = require(\"@axihe/snowflake\");\n      const idWorker = new Snowflake(0, 0);\n      const code = idWorker.nextId().toString();\n      let param = {\n        paycode: this.$tool.random(158944, 984687),\n        code: code,\n        status: \"待付款\",\n        type: this.type,\n        sid: this.storeInfo.id,\n        uid: sessionStorage.getItem(\"id\"),\n      };\n\n      if (this.type == \"外卖配送\") {\n        //判断是否填写相关信息\n        try {\n          Object.keys(this.form).forEach((k) => {\n            if (this.form[k] == \"\" || !this.form[k]) {\n              throw new Error();\n            }\n          });\n        } catch (error) {\n          this.$toast(\"请填写完整配送信息和代取信息!\");\n          return;\n        }\n        param = {\n          ...param,\n          ...this.form,\n        };\n      }\n\n      for (const i of this.shoppingFoodList) {\n        //存入订单表\n        await api.orderssave({\n          ...param,\n          name: i.name,\n          mtype: i.type,\n          price: i.price,\n          num: i.buyNum,\n          img: i.img,\n        });\n\n        //增加商品销量\n        let menu = await api.menusone({ id: i.id });\n        await api.menussave({\n          id: i.id,\n          monthnum: Number(menu.data.monthnum) + Number(i.buyNum),\n        });\n      }\n\n      //增加店铺销量\n      let store = await api.storesone({ id: this.storeInfo.id });\n      await api.storessave({\n        id: this.storeInfo.id,\n        monthnum: Number(store.data.monthnum) + 1,\n      });\n      this.$toast(\"下单成功!\");\n\n      setTimeout(() => {\n        this.$router.push({ path: \"/shoppingCart\" });\n      }, 500);\n    },\n  },\n  computed: {\n    total() {\n      return (item) => {\n        let total = 0;\n        total = Number(\n          calculate.cheng(Number(item.buyNum), Number(item.price))\n        );\n        return this.$tool.floor(total, 2);\n      };\n    },\n\n    sumPrice() {\n      let total = 0;\n      this.shoppingFoodList.forEach((i) => {\n        total += Number(calculate.cheng(Number(i.buyNum), Number(i.price)));\n      });\n      return this.$tool.floor(total, 2);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n* {\n  margin: auto;\n  padding: 0;\n}\n.submitOrder {\n  width: 100%;\n  // height: 600px;\n  // overflow: hidden;\n}\n\n.shoppingCart {\n  position: absolute;\n  width: 350px;\n  height: 50px;\n  line-height: 50px;\n  background-color: rgb(102, 161, 136);\n  bottom: 0px;\n  left: 13px;\n  border-radius: 20px;\n}\n.icon-icon-test {\n  margin-left: 30px;\n  font-size: 30px;\n  font-weight: 600;\n  float: left;\n}\n.sum-price {\n  float: left;\n  padding-left: 15px;\n  font-size: 21px;\n}\n.settlement {\n  float: right;\n  width: 110px;\n  height: 100%;\n  background-color: #b8d9c6;\n  border-radius: 0 20px 20px 0;\n  text-align: center;\n  font-size: 20px;\n}\n.commodity-head /deep/ .van-nav-bar__content {\n  background-color: rgb(102, 161, 136);\n  height: 60px;\n  // line-height: 50px;\n}\n.commodity-head /deep/ .van-nav-bar__title {\n  font-size: 20px;\n  font-weight: 600;\n}\n.commodity-head /deep/ .van-icon-arrow-left::before {\n  font-size: 20px;\n  font-weight: 600;\n  //   margin-top: -160px;\n  color: #000;\n}\n.gradual-change {\n  width: 100%;\n  height: 300px;\n  background-image: linear-gradient(\n    rgb(102, 161, 136),\n    rgb(102, 161, 136),\n    #b8d9c6,\n    #b8d9c6,\n    #fff\n  );\n  margin-top: -1px;\n}\n.father {\n  position: absolute;\n  padding-bottom: 10px;\n  top: 100px;\n  left: 0;\n  width: 100%;\n  overflow-y: scroll;\n  height: 500px;\n}\n.dining-style {\n  // position: absolute;\n  top: 78px;\n  left: 17px;\n  width: 280px;\n  height: 100px;\n  background-color: #fff;\n  border-radius: 15px;\n  // z-index: 999;\n  padding: 20px 30px;\n  margin-bottom: 20px;\n}\n.dining-style-tital {\n  font-size: 18px;\n  font-weight: 600;\n}\n.dining-style-choice {\n  margin-top: 10px;\n}\n.dining-style-choice /deep/.van-icon-success::before {\n  width: 20px;\n}\n.in-store {\n  color: #000;\n  width: 130px;\n  height: 50px;\n  font-size: 18px;\n  background-color: #fff;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-top: 15px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.in-store1 {\n  // color: #000;\n  width: 130px;\n  height: 50px;\n  font-size: 18px;\n  background-color: #b8d9c6;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-top: 15px;\n  // box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.delivery {\n  width: 130px;\n  height: 50px;\n  font-size: 18px;\n  background-color: #b8d9c6;\n  border-radius: 10px;\n}\n.delivery1 {\n  color: #000;\n  width: 130px;\n  height: 50px;\n  font-size: 18px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.icon-dianpu {\n  font-size: 20px;\n  font-weight: 600;\n}\n.icon-qishou {\n  font-size: 25px;\n  // font-weight: 600;\n}\n.order-list {\n  // position: absolute;\n  top: 230px;\n  left: 17px;\n  width: 340px;\n  height: 355px;\n  background-color: #fff;\n  border-radius: 15px;\n  padding-bottom: 20px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n  // overflow: hidden;\n}\n.shop-name {\n  padding: 15px 30px;\n  font-size: 18px;\n  font-weight: 600;\n}\n.seamless-warp {\n  width: 320px;\n  height: 260px !important;\n  overflow: hidden;\n  margin-left: 15px;\n  // background-color: pink;\n}\n.order-details {\n  display: flex;\n  width: 320px;\n  height: 80px;\n  background-color: #fff;\n  padding-bottom: 2px;\n}\n.order-details > img {\n  width: 76px;\n  height: 76px;\n  border-radius: 5px;\n  margin: 2px;\n}\n.order-right {\n  margin-left: 0px;\n  padding-left: 15px;\n  margin-top: 5px;\n}\n.order-name {\n  width: 150px;\n  font-size: 18px;\n  font-weight: 600;\n  float: left;\n  // margin-right: 40px;\n}\n.order-price {\n  float: left;\n  font-size: 20px;\n  font-weight: 600;\n}\n.order-share {\n  padding-top: 45px;\n}\n.order-sum-price {\n  text-align: right;\n  padding-top: 20px;\n  padding-right: 20px;\n}\n.order-p {\n  margin-left: 190px;\n  // float: left;\n  font-size: 15px;\n  margin-right: 10px;\n}\n.order-span {\n  font-size: 13px;\n  font-weight: 600;\n}\n.order-total {\n  // float: left;\n  font-size: 22px;\n  font-weight: 600;\n}\n</style>\n"],"sourceRoot":"src/views/order"}]}