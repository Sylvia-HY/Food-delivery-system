{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\my\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\my\\index.vue","mtime":1661927902110},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1641885170443},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN3aXBlciBmcm9tICJzd2lwZXIiOwppbXBvcnQgdnVlU2VhbWxlc3NTY3JvbGwgZnJvbSAidnVlLXNlYW1sZXNzLXNjcm9sbCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAqIGFzIGFwaSBmcm9tICJAL2FwaS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15SW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIGltZzogIiIsCiAgICAgIHNob3BwaW5nY2FydExpc3Q6IFtdLAogICAgICB1c2VyOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHZ1ZVNlYW1sZXNzU2Nyb2xsOiB2dWVTZWFtbGVzc1Njcm9sbAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzT3B0aW9uOiBmdW5jdGlvbiBjbGFzc09wdGlvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGVwOiAwLjIsCiAgICAgICAgZGlyZWN0aW9uOiAxLAogICAgICAgIGhvdmVyU3RvcDogdHJ1ZSAvLyBsaW1pdE1vdmVOdW06ICd0aGlzLmZvb2RMaXN0Lmxlbmd0aC8yJywKICAgICAgICAvLyBvcGVuVG91Y2g6IGZhbHNlLAogICAgICAgIC8vIHdhaXRUaW1lOiA1MCwKICAgICAgICAvLyBzaW5nbGVXaWR0aDogMzAKCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJpZCIpKSB7CiAgICAgIHRoaXMudXNlciA9IHRydWU7CiAgICAgIHRoaXMudXNlcm5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJuYW1lIik7CiAgICAgIHRoaXMuaW1nID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiaW1nIik7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIG5ldyBTd2lwZXIoIi5zd2lwZXItY29udGFpbmVyIiwgewogICAgICBzbGlkZXNQZXJWaWV3OiAyCiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBhcGkub3JkZXJzbGlzdCh7CiAgICAgICAgbGltaXQ6IDk5OSwKICAgICAgICBvZmZzZXQ6IDEsCiAgICAgICAgc3RhdHVzOiAi5bey5a6M5oiQIiwKICAgICAgICB1aWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlkIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnRvdGFsID4gMCkgewogICAgICAgICAgdmFyIGFyciA9IHt9OwogICAgICAgICAgcmVzLmRhdGEubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIGlmICghYXJyW2kuY29kZV0pIHsKICAgICAgICAgICAgICBhcnJbaS5jb2RlXSA9IHsKICAgICAgICAgICAgICAgIGlkOiBpLmlkLAogICAgICAgICAgICAgICAgY29kZTogaS5jb2RlLAogICAgICAgICAgICAgICAgc25hbWU6IGkuc25hbWUsCiAgICAgICAgICAgICAgICBzaW1nOiBpLnNpbWcsCiAgICAgICAgICAgICAgICBzaWQ6IGkuc2lkLAogICAgICAgICAgICAgICAgdGltZTogaS50aW1lLAogICAgICAgICAgICAgICAgZ29vZHM6IFtpXSwKICAgICAgICAgICAgICAgIHN0YXR1czogaS5zdGF0dXMsCiAgICAgICAgICAgICAgICB0eXBlOiBpLnR5cGUsCiAgICAgICAgICAgICAgICBwYXljb2RlOiBpLnBheWNvZGUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFycltpLmNvZGVdLmdvb2RzLnB1c2goaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgT2JqZWN0LnZhbHVlcyhhcnIpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKGkpOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgc29ydEFyciA9IGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYi5pZCAtIGEuaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIGxpc3QgPSBzb3J0QXJyOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuc2hvcHBpbmdjYXJ0TGlzdCA9IGxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIE9uZWRpdDogZnVuY3Rpb24gT25lZGl0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXIiKTsKICAgIH0sCiAgICBPbmxvZ2luOiBmdW5jdGlvbiBPbmxvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIHRoaXMudXNlciA9IGZhbHNlOwogICAgfSwKICAgIHNpZ25vdXQ6IGZ1bmN0aW9uIHNpZ25vdXQoKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIHRoaXMudXNlciA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"my-container\">\n    <!-- 登录状态 -->\n    <div class=\"user-info\" v-if=\"user\">\n      <van-image round fit=\"cover\" width=\"100px\" height=\"100px\" :src=\"img || require('@/assets/signIn.png')\" style=\"margin-top: 7px; position: absolute; top: 20px; left: 20px\" />\n      <div class=\"edit\" @click=\"Onedit\">\n        <p class=\"editp\">修改</p>\n        <i class=\"iconfont icon-edit\"></i>\n      </div>\n      <div class=\"username\">\n        <p>{{ username }}</p>\n      </div>\n    </div>\n    <!-- 未登录状态 -->\n    <div class=\"user-info\" v-if=\"!user\" @click=\"Onlogin\">\n      <van-image round fit=\"cover\" width=\"150px\" height=\"150px\" :src=\"require('@/assets/signIn.png')\" style=\"margin-top: 7px\" />\n      <div class=\"username\">\n        <p>点击登录</p>\n      </div>\n    </div>\n\n    <div class=\"history\" v-if=\"user\">\n      <div class=\"history_nav\">\n        <p class=\"history_navFirst\">我的订单</p>\n        <p class=\"iconfont icon-time\"></p>\n        <!-- <p class=\"history_navLast \" >\n            <i class=\"iconfont icon-arrow-right-bold\"></i>\n          </p> -->\n      </div>\n      <div class=\"swiper-container\" ref=\"swiperRef\" v-if=\"user\">\n        <ul class=\"swiper-wrapper\" :style=\"'width:' + 'calc(' + Math.ceil(shoppingcartList.length) + ' * 200px' + ')'\">\n          <li class=\"history_order swiper-slide\" v-for=\"order in shoppingcartList\" :key=\"order.id\">\n            <img :src=\"order.simg\" />\n            <p>{{ order.sname }}</p>\n            <vue-seamless-scroll :data=\"order.goods\" class=\"seamless-warp\" :class-option=\"classOption\">\n              <ul class=\"food\">\n                <li class=\"order_food\" v-for=\"food in order.goods\" :key=\"food.id\">\n                  <img :src=\"food.img\" />\n                  <p>{{ food.name }}</p>\n                </li>\n              </ul>\n            </vue-seamless-scroll>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"sign-out\" v-if=\"user\" @click=\"signout\">\n      <p>退出登录</p>\n      <p class=\"iconfont icon-tuichudenglu\"></p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Swiper from \"swiper\";\nimport vueSeamlessScroll from \"vue-seamless-scroll\";\nimport axios from \"axios\";\nimport * as api from \"@/api/api\";\n\nexport default {\n  name: \"MyIndex\",\n  data() {\n    return {\n      username: \"\",\n      img: \"\",\n      shoppingcartList: [],\n      user: false,\n    };\n  },\n  components: {\n    vueSeamlessScroll,\n  },\n  computed: {\n    classOption() {\n      return {\n        step: 0.2,\n        direction: 1,\n        hoverStop: true,\n        // limitMoveNum: 'this.foodList.length/2',\n        // openTouch: false,\n        // waitTime: 50,\n        // singleWidth: 30\n      };\n    },\n  },\n  watch: {},\n  created() {\n    if (sessionStorage.getItem(\"id\")) {\n      this.user = true;\n      this.username = sessionStorage.getItem(\"name\");\n      this.img = sessionStorage.getItem(\"img\");\n      this.getData();\n    }\n  },\n\n  mounted() {\n    new Swiper(\".swiper-container\", {\n      slidesPerView: 2,\n    });\n  },\n  methods: {\n    getData() {\n      api\n        .orderslist({\n          limit: 999,\n          offset: 1,\n          status: \"已完成\",\n          uid: sessionStorage.getItem(\"id\"),\n        })\n        .then((res) => {\n          let list = [];\n          if (res.data.total > 0) {\n            let arr = {};\n            res.data.list.forEach((i) => {\n              if (!arr[i.code]) {\n                arr[i.code] = {\n                  id: i.id,\n                  code: i.code,\n                  sname: i.sname,\n                  simg: i.simg,\n                  sid: i.sid,\n                  time: i.time,\n                  goods: [i],\n                  status: i.status,\n                  type: i.type,\n                  paycode: i.paycode,\n                };\n              } else {\n                arr[i.code].goods.push(i);\n              }\n            });\n            Object.values(arr).forEach((i) => {\n              list.push(i);\n            });\n\n            let sortArr = list.sort((a, b) => {\n              return b.id - a.id;\n            });\n            list = sortArr;\n          }\n          this.shoppingcartList = list;\n        });\n    },\n\n    Onedit() {\n      this.$router.push(\"/user\");\n    },\n    Onlogin() {\n      this.$router.push(\"/login\");\n      this.user = false;\n    },\n    signout() {\n      sessionStorage.clear();\n      this.user = false;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n* {\n  margin: 0 auto;\n}\n.my-container {\n  width: 375px;\n  height: 650px;\n  overflow: hidden;\n}\n.user-info {\n  position: relative;\n  width: 330px;\n  height: 160px;\n  line-height: 160px;\n  margin-top: 30px;\n  // background: pink;\n  border-radius: 15px;\n  box-shadow: 0 0 5px 2px rgb(216, 216, 216);\n}\n.edit {\n  display: flex;\n  width: 60px;\n  height: 50px;\n  // background-color:pink;\n  // line-height: 30px;\n  position: absolute;\n  top: -35%;\n  right: 5%;\n}\n.icon-edit {\n  font-size: 20px;\n  font-weight: 600;\n}\n.username {\n  position: absolute;\n  top: -8%;\n  left: 43%;\n  font-size: 20px;\n  font-weight: 600;\n}\n.history {\n  width: 100%;\n  height: 250px;\n  // background-color: pink;\n}\n.history_nav {\n  height: 70px;\n  line-height: 70px;\n  padding: 0 30px;\n}\n.history_navFirst {\n  display: inline;\n  float: left;\n  font-size: 17px;\n  font-weight: 600;\n}\n.icon-time {\n  float: left;\n  font-size: 25px;\n  font-weight: 600;\n  margin-left: 10px;\n  // color: rgb(102, 161, 136);\n}\n.history_navLast {\n  position: relative;\n  width: 30px;\n  height: 29px;\n  border-radius: 12px;\n  box-shadow: 0 0 5px 2px rgb(216, 216, 216);\n  // display: inline;\n  float: right;\n  margin-top: 20px;\n}\n.icon-arrow-right-bold {\n  position: relative;\n  font-size: 16px;\n  font-weight: 600;\n  top: -20px;\n  left: 7px;\n  color: rgb(102, 161, 136);\n}\n.swiper-slide {\n  width: auto; /*根据内容调整宽度*/\n}\n.swiper-slide1 {\n  width: auto; /*根据内容调整宽度*/\n}\n.history_order {\n  width: 175px !important;\n  height: 220px;\n  // background: #000;\n  float: left;\n  margin: 0 6px;\n  border-radius: 25px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n  overflow: hidden;\n}\n.history_order > img {\n  width: 175px;\n  height: 100px;\n  border-radius: 25px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.history_order > p {\n  padding: 5px 0 3px 8px;\n  font-size: 15px;\n  font-weight: 600;\n}\n.seamless-warp {\n  width: 100%;\n  height: 70px;\n  overflow: hidden;\n}\n.order_food {\n  top: 0;\n  left: 0;\n  width: 70px;\n  height: 70px;\n  // background-color: purple;\n  float: left;\n  margin: 5px 5px;\n  margin-left: 10px;\n  border-radius: 8px;\n  text-align: center;\n  // overflow: hidden;\n}\n.order_food img {\n  width: 70px;\n  height: 50px;\n  border-radius: 8px;\n}\n.order_food p {\n  font-size: 10px;\n}\n.sign-out {\n  width: 300px;\n  height: 50px;\n  line-height: 50px;\n  border-radius: 10px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n  margin-top: 60px;\n  padding: 0 25px;\n}\n.sign-out p {\n  float: left;\n}\n.sign-out > p:first-child {\n  font-weight: 600;\n}\n.icon-tuichudenglu {\n  font-size: 25px;\n  // font-weight: 600;\n  color: rgb(102, 161, 136);\n  margin-left: 15px;\n}\n</style>\n"],"sourceRoot":"src/views/my"}]}