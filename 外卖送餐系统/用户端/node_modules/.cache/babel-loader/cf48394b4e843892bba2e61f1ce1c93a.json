{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\register\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\register\\index.vue","mtime":1634967165000},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1641885170443},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2xlbm92by9EZXNrdG9wLzA4MjYwMS1cdTU5MTZcdTUzNTZcdTkwMDFcdTk5MTAvXHU3NTI4XHU2MjM3XHU3QUVGL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfRklMRSwKICAgICAgdXNlcjogIiIsCiAgICAgIHB3ZDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICBzZXg6ICLnlLciLAogICAgICBpbWc6ICIiLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGZvcm1SdWxlczogewogICAgICAgIHVzZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmiYvmnLrlj7ciCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogL14oPzooPzpcK3wwMCk4Nik/MVxkezEwfSQvLAogICAgICAgICAgbWVzc2FnZTogIuaJi+acuuWPt+agvOW8j+mUmeivryIKICAgICAgICB9XSwKICAgICAgICBwd2Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogL15bQS1aYS16MC05XXs4LDEyfSQvLAogICAgICAgICAgbWVzc2FnZTogIuWvhueggeS4ujh+MTLkvY3mlbDlrZflrZfmr43nu4TlkIgiCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaYteensCIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDkuIrkvKDlpLTlg48KICAgIGFmdGVyUmVhZDogZnVuY3Rpb24gYWZ0ZXJSZWFkKGZpbGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZS5maWxlKTsKICAgICAgYXhpb3MucG9zdCh0aGlzLnVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuaW1nID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWw6IGZ1bmN0aW9uIGRlbCgpIHsKICAgICAgdGhpcy5pbWcgPSAiIjsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgfSwKICAgIC8vIOazqOWGjAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmltZyA9PSAiIiB8fCBfdGhpczIuaW1nID09IG51bGwgfHwgX3RoaXMyLmltZyA9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0KCLor7fkuIrkvKDlpLTlg48hIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS51c2VybGlzdCh7CiAgICAgICAgICAgICAgICAgIHVzZXI6IF90aGlzMi51c2VyLAogICAgICAgICAgICAgICAgICBsaW1pdDogMSwKICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoZGF0YS5kYXRhLnRvdGFsID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoIuaJi+acuuWPt+mHjeWkjSEiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgYXBpLnVzZXJzYXZlKHsKICAgICAgICAgICAgICAgICAgdXNlcjogX3RoaXMyLnVzZXIsCiAgICAgICAgICAgICAgICAgIHB3ZDogX3RoaXMyLnB3ZCwKICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMyLm5hbWUsCiAgICAgICAgICAgICAgICAgIHNleDogX3RoaXMyLnNleCwKICAgICAgICAgICAgICAgICAgaW1nOiBfdGhpczIuaW1nCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoIuazqOWGjOaIkOWKnyEiKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,GAAA,MAAA,WAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,iBADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,GAAA,EAAA,GALA;AAMA,MAAA,GAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA,EAKA;AACA,UAAA,OAAA,EAAA,2BADA;AAEA,UAAA,OAAA,EAAA;AAFA,SALA,CADA;AAWA,QAAA,GAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA,EAKA;AACA,UAAA,OAAA,EAAA,qBADA;AAEA,UAAA,OAAA,EAAA;AAFA,SALA,CAXA;AAqBA,QAAA,IAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA;AArBA;AARA,KAAA;AAqCA,GAvCA;AAwCA,EAAA,QAAA,EAAA,EAxCA;AAyCA,EAAA,KAAA,EAAA,EAzCA;AA0CA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,IAFA,EAEA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KATA;AAWA;AACA,IAAA,GAZA,iBAYA;AACA,WAAA,GAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,KAfA;AAiBA;AACA,IAAA,QAlBA,sBAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,MAAA,CAAA,GAAA,IAAA,EAAA,IAAA,MAAA,CAAA,GAAA,IAAA,IAAA,IAAA,MAAA,CAAA,GAAA,IAAA,SADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,MAAA,CAAA,MAAA,CAAA,QAAA;;AAFA;;AAAA;AAAA;AAAA,uBAOA,GAAA,CAAA,QAAA,CAAA;AACA,kBAAA,IAAA,EAAA,MAAA,CAAA,IADA;AAEA,kBAAA,KAAA,EAAA,CAFA;AAGA,kBAAA,MAAA,EAAA;AAHA,iBAAA,CAPA;;AAAA;AAOA,gBAAA,IAPA;;AAAA,sBAaA,IAAA,CAAA,IAAA,CAAA,KAAA,GAAA,CAbA;AAAA;AAAA;AAAA;;AAcA,gBAAA,MAAA,CAAA,MAAA,CAAA,QAAA;;AAdA;;AAAA;AAkBA,gBAAA,GAAA,CACA,QADA,CACA;AACA,kBAAA,IAAA,EAAA,MAAA,CAAA,IADA;AAEA,kBAAA,GAAA,EAAA,MAAA,CAAA,GAFA;AAGA,kBAAA,IAAA,EAAA,MAAA,CAAA,IAHA;AAIA,kBAAA,GAAA,EAAA,MAAA,CAAA,GAJA;AAKA,kBAAA,GAAA,EAAA,MAAA,CAAA;AALA,iBADA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,sBAAA,GAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,MAAA,CAAA,OAAA;;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,iBAbA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCA;AAlDA;AA1CA,CAAA","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login_nav\">\n      <van-nav-bar left-arrow @click-left=\"$router.back()\" />\n    </div>\n    <div class=\"login_form\">\n      <div class=\"f-r f-a-c\">\n        <van-uploader v-model=\"fileList\" :max-count=\"1\" :after-read=\"afterRead\" :delete=\"del\" />\n      </div>\n\n      <van-form :show-error=\"true\" :show-error-message=\"true\" @submit=\"register\">\n        <van-field v-model=\"user\" name=\"手机号\" left-icon=\"phone\" placeholder=\"请输入手机号\" :rules=\"formRules.user\" />\n        <van-field v-model=\"pwd\" type=\"password\" name=\"密码\" left-icon=\"lock\" placeholder=\"请输入密码\" :rules=\"formRules.pwd\" />\n        <van-field v-model=\"name\" name=\"昵称\" left-icon=\"manager\" placeholder=\"请输入昵称\" :rules=\"formRules.name\" />\n        <van-radio-group v-model=\"sex\" class=\"f-r\" checked-color=\"rgb(102, 161, 136)\">\n          <van-radio name=\"男\">男</van-radio>\n          <van-radio name=\"女\">女</van-radio>\n        </van-radio-group>\n        <div style=\"margin: 50px 16px 16px\">\n          <van-button round block type=\"info\" native-type=\"submit\"></van-button>\n        </div>\n      </van-form>\n    </div>\n    <div class=\"login_foot\">\n      <p></p>\n      <p @click=\"$router.push('/login')\">登录</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as api from \"@/api/api\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      url: process.env.VUE_APP_BASE_FILE,\n      user: \"\",\n      pwd: \"\",\n      name: \"\",\n      sex: \"男\",\n      img: \"\",\n      fileList: [],\n      formRules: {\n        user: [\n          {\n            required: true,\n            message: \"请输入手机号\"\n          },\n          {\n            pattern: /^(?:(?:\\+|00)86)?1\\d{10}$/,\n            message: \"手机号格式错误\"\n          }\n        ],\n        pwd: [\n          {\n            required: true,\n            message: \"请输入密码\"\n          },\n          {\n            pattern: /^[A-Za-z0-9]{8,12}$/,\n            message: \"密码为8~12位数字字母组合\"\n          }\n        ],\n        name: [\n          {\n            required: true,\n            message: \"请输入昵称\"\n          }\n        ]\n      }\n    };\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    // 上传头像\n    afterRead(file) {\n      let data = new FormData();\n      data.append(\"file\", file.file);\n\n      axios.post(this.url, data).then((res) => {\n        this.img = res.data.data;\n      });\n    },\n\n    // 删除\n    del() {\n      this.img = \"\";\n      this.fileList = [];\n    },\n\n    // 注册\n    async register() {\n      if (this.img == \"\" || this.img == null || this.img == undefined) {\n        this.$toast(\"请上传头像!\");\n        return;\n      }\n\n      // 查询手机号是否重复\n      let data = await api.userlist({\n        user: this.user,\n        limit: 1,\n        offset: 1\n      });\n\n      if (data.data.total > 0) {\n        this.$toast(\"手机号重复!\");\n        return;\n      }\n\n      api\n        .usersave({\n          user: this.user,\n          pwd: this.pwd,\n          name: this.name,\n          sex: this.sex,\n          img: this.img\n        })\n        .then((res) => {\n          if (res.code == 200) {\n            this.$toast(\"注册成功!\");\n            this.$router.push(\"/login\");\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n* {\n  margin: 0 auto;\n  padding: 0px;\n}\n.login_nav /deep/ .van-icon-arrow-left::before {\n  color: #fff;\n}\n.login_nav /deep/ .van-nav-bar__content {\n  background-color: rgb(102, 161, 136);\n}\n.login_nav /deep/ [class*=\"van-hairline\"]::after {\n  border: 0px;\n}\n.head {\n  width: 100%;\n  height: 220px;\n  background: rgb(102, 161, 136, 0.1);\n}\n.login_form {\n  padding-top: 20px;\n  // margin-top: 40px;\n  width: 300px;\n  // border: 1px solid #000;\n}\n.login_form /deep/ .van-cell {\n  margin: 45px 0;\n}\n.login_form /deep/ .icon-shouji::before {\n  color: rgb(102, 161, 136);\n  font-size: 25px;\n  font-weight: 600;\n  margin-right: 30px;\n}\n.login_form /deep/ .icon-mima54::before {\n  color: rgb(102, 161, 136);\n  font-size: 25px;\n  font-weight: 600;\n  margin-right: 30px;\n}\n.login_form /deep/ .icon-error::before {\n  color: rgb(102, 161, 136);\n  font-size: 20px;\n  font-weight: 600;\n  margin-right: 30px;\n}\n.login_form /deep/ .van-button::before {\n  height: 40px;\n  padding-top: 15px;\n  background-color: rgb(102, 161, 136);\n  border-color: rgb(102, 161, 136);\n  opacity: 1;\n  content: \"注册\";\n  font-size: 18px;\n}\n.login_foot {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 30px;\n  color: #969799;\n}\n.van-form {\n  ::v-deep .van-field__left-icon {\n    margin-right: 10px;\n    i {\n      color: rgb(102, 161, 136);\n      font-size: 20px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/register"}]}