{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\home\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\home\\index.vue","mtime":1661927935134},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1641885170443},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTd2lwZXIgZnJvbSAic3dpcGVyIjsKaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWVJbmRleCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAiIiwKICAgICAgYWN0aXZlOiAiIiwKICAgICAgc29ydExpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICB1cmw6IHJlcXVpcmUoIkAvYXNzZXRzL2hhbmJhby5wbmciKSwKICAgICAgICAgIG5hbWU6ICLmsYnloKEiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdXJsOiByZXF1aXJlKCJAL2Fzc2V0cy9jaGFvY2FpLnBuZyIpLAogICAgICAgICAgbmFtZTogIueCkuiPnCIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB1cmw6IHJlcXVpcmUoIkAvYXNzZXRzL21pYW5zaGkucG5nIiksCiAgICAgICAgICBuYW1lOiAi6Z2i6aOfIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHVybDogcmVxdWlyZSgiQC9hc3NldHMveWlucGluLnBuZyIpLAogICAgICAgICAgbmFtZTogIumlruWTgSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB1cmw6IHJlcXVpcmUoIkAvYXNzZXRzL3hpYW9jaGkucG5nIiksCiAgICAgICAgICBuYW1lOiAi5bCP5ZCDIiwKICAgICAgICB9LAogICAgICBdLAogICAgICBpbWFnZXM6IFtdLAogICAgICBvcmRlckxpc3Q6IFtdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFN0b3JlcygpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIG5ldyBTd2lwZXIoIi5zd2lwZXItY29udGFpbmVyIiwgewogICAgICBzbGlkZXNQZXJWaWV3OiA0LAogICAgfSk7CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHsKICAgIGFjdGl2ZSgpIHsKICAgICAgdGhpcy5nZXRTdG9yZXMoKTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5blupfpk7oKICAgIGdldFN0b3JlcygpIHsKICAgICAgYXBpCiAgICAgICAgLmdldGhvbWVsaXN0KHsKICAgICAgICAgIGxpbWl0OiA5OTksCiAgICAgICAgICBzdGF0dXM6ICLlkK/nlKgiLAogICAgICAgICAgdHlwZTogdGhpcy5hY3RpdmUgPyB0aGlzLnNvcnRMaXN0W3RoaXMuYWN0aXZlXS5uYW1lIDogIiIsCiAgICAgICAgICBuYW1lOiB0aGlzLnZhbHVlLAogICAgICAgICAgb2Zmc2V0OiAxLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5vcmRlckxpc3QgPSByZXMuZGF0YS5saXN0LnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgcmV0dXJuIGIubW9udGhudW0gLSBhLm1vbnRobnVtOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8vIOaUueWPmOmAieS4rQogICAgY2hhbmdlQWN0aXZlKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5hY3RpdmUpIHsKICAgICAgICB0aGlzLmFjdGl2ZSA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleDsKICAgICAgfQogICAgfSwKCiAgICBPbm9yZGVyKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9jb21tb2RpdHk/aWQ9IiArIGl0ZW0uaWQpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"home-container\">\n    <div class=\"home-head\">\n      <div class=\"home-search\">\n        <van-search v-model=\"value\" placeholder=\"请输入搜索店铺/菜品\" icon-prefix=\"iconfont\" left-icon=\"iconfont icon-search\" @input=\"getStores\" />\n      </div>\n      <div class=\"home-sort swiper-container\" ref=\"swiperRef\">\n        <ul class=\"swiper-wrapper\" :style=\"'width:' + 'calc(' + Math.ceil(sortList.length) + ' * 200px' + ')'\">\n          <li class=\"home-food swiper-slide\" :class=\"active === '' ? 'active' : ''\" @click=\"changeActive('')\">\n            <van-image round fit=\"cover\" width=\"80px\" height=\"80px\" :src=\"require('@/assets/all.png')\" style=\"margin-top: 7px\" />\n            <p>全部</p>\n          </li>\n\n          <li class=\"home-food swiper-slide\" v-for=\"(sort, index) in sortList\" :key=\"index\" :class=\"index === active ? 'active' : ''\" @click=\"changeActive(index)\">\n            <van-image round fit=\"cover\" width=\"80px\" height=\"80px\" :src=\"sort.url\" style=\"margin-top: 7px\" />\n            <p>{{ sort.name }}</p>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- 店铺列表 -->\n    <div class=\"home-order\">\n      <div class=\"home-nav\">\n        <p class=\"iconfont icon-dianpu\"></p>\n        <p class=\"home-navFirst\">所有店铺</p>\n      </div>\n      <!-- list -->\n      <div class=\"home-body\">\n        <ul class=\"swiper-wrapper\">\n          <li class=\"history_order swiper-slide\" v-for=\"order in orderList\" :key=\"order.id\" @click=\"Onorder(order)\">\n            <img :src=\"order.img\" />\n            <p class=\"order-name\">{{ order.name }}</p>\n            <p class=\"order-num\">月售 {{ order.monthnum || 0 }}</p>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Swiper from \"swiper\";\nimport * as api from \"@/api/api\";\n\nexport default {\n  name: \"HomeIndex\",\n  data() {\n    return {\n      value: \"\",\n      active: \"\",\n      sortList: [\n        {\n          url: require(\"@/assets/hanbao.png\"),\n          name: \"汉堡\",\n        },\n        {\n          url: require(\"@/assets/chaocai.png\"),\n          name: \"炒菜\",\n        },\n        {\n          url: require(\"@/assets/mianshi.png\"),\n          name: \"面食\",\n        },\n        {\n          url: require(\"@/assets/yinpin.png\"),\n          name: \"饮品\",\n        },\n        {\n          url: require(\"@/assets/xiaochi.png\"),\n          name: \"小吃\",\n        },\n      ],\n      images: [],\n      orderList: [],\n    };\n  },\n  created() {\n    this.getStores();\n  },\n  mounted() {\n    new Swiper(\".swiper-container\", {\n      slidesPerView: 4,\n    });\n  },\n  computed: {},\n  watch: {\n    active() {\n      this.getStores();\n    },\n  },\n  methods: {\n    // 获取店铺\n    getStores() {\n      api\n        .gethomelist({\n          limit: 999,\n          status: \"启用\",\n          type: this.active ? this.sortList[this.active].name : \"\",\n          name: this.value,\n          offset: 1,\n        })\n        .then((res) => {\n          this.orderList = res.data.list.sort((a, b) => {\n            return b.monthnum - a.monthnum;\n          });\n        });\n    },\n\n    // 改变选中\n    changeActive(index) {\n      if (index === this.active) {\n        this.active = null;\n      } else {\n        this.active = index;\n      }\n    },\n\n    Onorder(item) {\n      this.$router.push(\"/commodity?id=\" + item.id);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n* {\n  margin: 0 auto;\n  padding: 0;\n}\n.home-head {\n  width: 100%;\n  height: 230px;\n  // background-color: rebeccapurple;\n  border-radius: 0 0 15px 15px;\n  box-shadow: 0 0 5px 2px rgb(216, 216, 216);\n  overflow: hidden;\n}\n.home-search {\n  padding: 20px;\n}\n.home-search /deep/ .van-search {\n  width: 320px;\n}\n.home-search /deep/ .van-search__content {\n  width: 320px;\n  height: 40px;\n  line-height: 50px;\n  padding-top: 8px;\n  padding-left: 15px;\n  border-radius: 12px;\n  box-shadow: 0 0 5px 2px rgb(216, 216, 216);\n  background: #fff;\n}\n.home-search /deep/ .icon-search:before {\n  font-size: 20px;\n  font-weight: 700;\n  color: rgb(102, 161, 136);\n}\n.home-search /deep/ .van-field__control {\n  padding-left: 15px;\n  font-size: 16px;\n}\n.home-search /deep/ .van-field__clear {\n  font-size: 20px;\n  // font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.home-sort {\n  width: 340px;\n  height: 130px;\n  // background-color: pink;\n}\n.home-food {\n  width: 100px;\n  height: 150px;\n  text-align: center;\n  float: left;\n}\n.home-food p {\n  font-size: 18px;\n  font-weight: 600;\n  letter-spacing: 3px;\n}\n.swiper-slide {\n  width: auto; /*根据内容调整宽度*/\n}\n.advertisement {\n  width: 330px;\n  height: 130px;\n  // background-color: pink;\n  border-radius: 35px;\n  margin-top: 15px;\n}\n.advertisement /deep/ .van-swipe__indicators {\n  display: none;\n}\n// 店铺列表\n.home-order {\n  width: 100%;\n  margin-top: -5px;\n  overflow: hidden;\n  padding-bottom: 100px;\n}\n.home-nav {\n  width: 100%;\n  // background-color: pink;\n  height: 60px;\n  line-height: 78px;\n  padding: 0 30px;\n  overflow: hidden;\n}\n.home-navFirst {\n  float: left;\n  font-size: 20px;\n  font-weight: 600;\n}\n.icon-dianpu {\n  float: left;\n  margin-right: 20px;\n  font-size: 22px;\n  font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.history_order {\n  width: 175px !important;\n  height: 205px;\n  // background: #000;\n  float: left;\n  margin: 15px 6px 0 6px;\n  border-radius: 25px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n  overflow: hidden;\n}\n.history_order > img {\n  width: 175px;\n  height: 130px;\n  border-radius: 25px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.order-name {\n  padding: 5px 0 3px 8px;\n  font-size: 17px;\n  font-weight: 600;\n}\n.order-num {\n  padding: 5px 0 3px 8px;\n  font-size: 13px !important;\n}\n.van-image {\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n.active {\n  /deep/ .van-image {\n    border: 1px solid rgb(102, 161, 136);\n    border-radius: 50%;\n  }\n}\n</style>\n"]}]}