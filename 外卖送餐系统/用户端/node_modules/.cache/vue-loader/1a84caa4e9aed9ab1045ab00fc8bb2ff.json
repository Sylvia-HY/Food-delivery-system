{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\commodity\\index.vue?vue&type=style&index=0&id=1c758846&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\src\\views\\commodity\\index.vue","mtime":1661937278390},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\css-loader\\dist\\cjs.js","mtime":1641885191395},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1642038070263},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\postcss-loader\\src\\index.js","mtime":1641885191858},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\less-loader\\dist\\cjs.js","mtime":1642554504188},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641885170445},{"path":"C:\\Users\\lenovo\\Desktop\\082601-外卖送餐\\用户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1642038070263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoqIHsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKfQouY29tbW9kaXR5IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA2NjdweDsKICAvLyBwYWRkaW5nLWJvdHRvbTogNDBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ4LCAyNDYsIDI0Nik7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQouY29tbW9kaXR5LWhlYWQgL2RlZXAvIC52YW4tbmF2LWJhcl9fY29udGVudCB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ2LCAyNDYpOwogIGhlaWdodDogNTBweDsKICBsaW5lLWhlaWdodDogNTBweDsKfQouY29tbW9kaXR5LWhlYWQgL2RlZXAvIC52YW4taWNvbi1hcnJvdy1sZWZ0OjpiZWZvcmUgewogIGZvbnQtc2l6ZTogMjBweDsKICBmb250LXdlaWdodDogNjAwOwogIGNvbG9yOiByZ2IoMTAyLCAxNjEsIDEzNik7Cn0KLm9yZGVyLWRldGFpbHMgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTcwcHg7CiAgLy8gYmFja2dyb3VuZC1jb2xvcjogcGluazsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmNvbW1vZGl0eS1uYW1lIHsKICBmb250LXNpemU6IDIwcHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBsZXR0ZXItc3BhY2luZzogMnB4OwogIHBhZGRpbmc6IDNweDsKfQoub3JkZXItZGV0YWlscyA+IHNwYW4gewogIGZvbnQtc2l6ZTogMTNweDsKICBwYWRkaW5nOiA1cHggMTBweDsKfQovLyDmkJzntKIKLmhvbWUtc2VhcmNoIHsKICBwYWRkaW5nOiAwIDMwcHg7CiAgLy8gYmFja2dyb3VuZC1jb2xvcjogcmdiKDIxNCwgMjEzLCAyMTMpICFpbXBvcnRhbnQ7Cn0KLmhvbWUtc2VhcmNoIC9kZWVwLyAudmFuLXNlYXJjaCB7CiAgd2lkdGg6IDMyMHB4Owp9Ci5ob21lLXNlYXJjaCAvZGVlcC8gLnZhbi1zZWFyY2hfX2NvbnRlbnQgewogIHdpZHRoOiAzMjBweDsKICBoZWlnaHQ6IDQwcHg7CiAgLy8gbGluZS1oZWlnaHQ6IDM1cHg7CiAgcGFkZGluZy10b3A6IDVweDsKICBwYWRkaW5nLWxlZnQ6IDE1cHg7CiAgYm9yZGVyLXJhZGl1czogMTJweDsKICBib3JkZXI6IDAuNXB4IHNvbGlkICMwMDA7CiAgLy8gYm94LXNoYWRvdzogMCAwIDVweCAycHggI2Q4ZDhkODsKICBiYWNrZ3JvdW5kOiAjZmZmOwp9Ci5ob21lLXNlYXJjaCAvZGVlcC8gLmljb24tc2VhcmNoOmJlZm9yZSB7CiAgZm9udC1zaXplOiAyMHB4OwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgY29sb3I6IHJnYigxMDIsIDE2MSwgMTM2KTsKfQouaG9tZS1zZWFyY2ggL2RlZXAvIC52YW4tZmllbGRfX2NvbnRyb2wgewogIHBhZGRpbmctbGVmdDogMTVweDsKICBmb250LXNpemU6IDE2cHg7Cn0KLmhvbWUtc2VhcmNoIC9kZWVwLyAudmFuLWZpZWxkX19jbGVhciB7CiAgZm9udC1zaXplOiAyMHB4OwogIC8vIGZvbnQtd2VpZ2h0OiA2MDA7CiAgY29sb3I6IHJnYigxMDIsIDE2MSwgMTM2KTsKfQouY29tbW9kaXR5LWxpc3QgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMzgwcHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBtYXJnaW4tdG9wOiAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDI1cHggMjVweCAwOwogIHBhZGRpbmctYm90dG9tOiA4MHB4Owp9Ci5jb21tb2RpdHktYm9keSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMzcwcHg7CiAgcGFkZGluZy10b3A6IDIwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQouY29tbW9kaXR5LWJvZHkgL2RlZXAvIC52YW4tc2lkZWJhci1pdGVtIHsKICBoZWlnaHQ6IDU1cHg7CiAgbGluZS1oZWlnaHQ6IDU1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogNXB4Owp9Ci5jb21tb2RpdHktYm9keSAvZGVlcC8gLnZhbi1zaWRlYmFyLWl0ZW0tLXNlbGVjdCwKLnZhbi1zaWRlYmFyLWl0ZW0tLXNlbGVjdDphY3RpdmUgewogIGJhY2tncm91bmQ6ICNiOGQ5YzY7Cn0KLmNvbW1vZGl0eS1ib2R5IC9kZWVwLyAudmFuLXNpZGViYXItaXRlbS0tc2VsZWN0OjpiZWZvcmUgewogIGRpc3BsYXk6IG5vbmU7Cn0KCi8vIOWPs+S+p+iPnOWTgeWIl+ihqAouZm9vZC1saXN0IHsKICB3aWR0aDogMjgwcHg7CiAgaGVpZ2h0OiAzMTBweCAhaW1wb3J0YW50OwogIC8vIGJhY2tncm91bmQtY29sb3I6IHBpbms7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMjBweDsKICByaWdodDogOHB4OwogIHBhZGRpbmctYm90dG9tOiAxMDBweDsKICAvLyB6LWluZGV4OiA5OTk7Cn0KLmZvb2QtZGV0YWlscyB7CiAgZGlzcGxheTogZmxleDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDExMHB4OwogIC8vIGJhY2tncm91bmQtY29sb3I6IHBvd2RlcmJsdWU7CiAgYm9yZGVyLXJhZGl1czogMTVweDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIGJveC1zaGFkb3c6IDAgMXB4IDVweCAycHggcmdiKDIxNiwgMjE2LCAyMTYpOwp9Ci5mb29kLWRldGFpbHNSaWdodCB7CiAgcGFkZGluZy1sZWZ0OiAxNXB4Owp9Ci5mb29kbmFtZSB7CiAgZm9udC1zaXplOiAxOXB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KLmZvb2RudW0gewogIGZvbnQtc2l6ZTogMTNweDsKICBwYWRkaW5nOiAzcHggMDsKfQouZm9vZHByaWNlIHsKICB3aWR0aDogNzFweDsKICBmbG9hdDogbGVmdDsKICBmb250LXNpemU6IDIwcHg7CiAgY29sb3I6IHJlZDsKICBmb250LXdlaWdodDogNjAwOwp9Ci5pY29uLW1pbnVzLWJvbGQgewogIHdpZHRoOiAyM3B4OwogIGhlaWdodDogMjNweDsKICBsaW5lLWhlaWdodDogMjNweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYmFja2dyb3VuZC1jb2xvcjogI2I4ZDljNjsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tbGVmdDogMjBweDsKICBtYXJnaW4tdG9wOiAzcHg7CiAgYm9yZGVyLXJhZGl1czogN3B4OwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KLmZvb2RzaGFyZSB7CiAgaGVpZ2h0OiAyMHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi10b3A6IDVweDsKICBwYWRkaW5nOiAwIDNweDsKfQouaWNvbi1hZGQtYm9sZCB7CiAgd2lkdGg6IDIzcHg7CiAgaGVpZ2h0OiAyM3B4OwogIGxpbmUtaGVpZ2h0OiAyM3B4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjhkOWM2OwogIGZsb2F0OiBsZWZ0OwogIC8vIG1hcmdpbi1sZWZ0OiAxMHB4OwogIG1hcmdpbi10b3A6IDNweDsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQouc2hvcHBpbmdDYXJ0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDM1MHB4OwogIGhlaWdodDogNTBweDsKICBsaW5lLWhlaWdodDogNTBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTAyLCAxNjEsIDEzNik7CiAgYm90dG9tOiAwOwogIGxlZnQ6IDEzcHg7CiAgYm9yZGVyLXJhZGl1czogMjBweDsKfQouaWNvbi1pY29uLXRlc3QgewogIG1hcmdpbi1sZWZ0OiAzMHB4OwogIGZvbnQtc2l6ZTogMzBweDsKICBmb250LXdlaWdodDogNjAwOwogIGZsb2F0OiBsZWZ0Owp9Ci5zdW0tcHJpY2UgewogIGZsb2F0OiBsZWZ0OwogIHBhZGRpbmctbGVmdDogMTVweDsKICBmb250LXNpemU6IDIxcHg7Cn0KLnNldHRsZW1lbnQgewogIGZsb2F0OiByaWdodDsKICB3aWR0aDogMTEwcHg7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6ICNiOGQ5YzY7CiAgYm9yZGVyLXJhZGl1czogMCAyMHB4IDIwcHggMDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC1zaXplOiAyMHB4Owp9Ci5zaG9wcGluZ0xpc3QgewogIG1heC1oZWlnaHQ6IDQwMHB4OwogIHBhZGRpbmctYm90dG9tOiA3MHB4Owp9Ci5zaG9wcGluZy1kZXRhaWxzIHsKICBkaXNwbGF5OiBmbGV4OwogIHdpZHRoOiAzMTBweDsKICBoZWlnaHQ6IDkwcHg7CiAgbWFyZ2luLWxlZnQ6IDE3cHg7CiAgcGFkZGluZzogMjBweCAxNXB4OwogIC8vIGJhY2tncm91bmQtY29sb3I6IHBpbms7Cn0KLnNob3BwaW5nLWRldGFpbHMgPiBpbWcgewogIHdpZHRoOiA5MHB4OwogIGhlaWdodDogOTBweDsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Ci5zaHBwaW5nLXJpZ2h0IHsKICBtYXJnaW4tbGVmdDogMjBweDsKICBmb250LXNpemU6IDIwcHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQouc2hvcHBpbmctbmFtZSB7CiAgbWFyZ2luLWJvdHRvbTogMzBweDsKfQouc2hvcHBpbmdwcmljZSB7CiAgd2lkdGg6IDcxcHg7CiAgZmxvYXQ6IGxlZnQ7CiAgZm9udC1zaXplOiAyMHB4OwogIGNvbG9yOiByZWQ7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBtYXJnaW4tcmlnaHQ6IDIwcHg7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commodity","sourcesContent":["<template>\n  <div class=\"commodity\">\n    <div class=\"commodity-head\">\n      <van-nav-bar left-arrow @click-left=\"$router.push('/')\" />\n    </div>\n    <div class=\"order-details p-r\">\n      <van-image round fit=\"cover\" width=\"90px\" height=\"90px\" :src=\"storeInfo.img\" />\n      <p class=\"commodity-name\">{{ storeInfo.name }}</p>\n      <span>地址：{{ storeInfo.addr }}</span>\n      <span>月销：{{ storeInfo.monthnum }}</span>\n      <div class=\"p-a font14\" style=\"top:0px;right:20px;color:#66a188\" @click=\"show1=true\">投诉</div>\n    </div>\n    <div class=\"home-search\">\n      <van-search v-model=\"value\" @input=\"getMenus\" placeholder=\"请输入搜索菜品\" icon-prefix=\"iconfont\" left-icon=\"iconfont icon-search\" />\n    </div>\n    <!-- 商品列表 -->\n    <div class=\"commodity-list\">\n      <div class=\"commodity-body\">\n        <van-sidebar v-model=\"activeKey\" @change=\"getMenus\">\n          <van-sidebar-item v-for=\"sort in sortList\" :key=\"sort.id\" :title=\"sort.name\" />\n        </van-sidebar>\n\n        <pull-to class=\"food-list\">\n          <ul>\n            <li class=\"food-details\" v-for=\"(food, index) in commodityList\" :key=\"index\">\n              <van-image fit=\"cover\" width=\"100px\" height=\"100px\" :src=\"food.img\" radius=\"15px 0 0 15px\" />\n              <div class=\"food-detailsRight\">\n                <p class=\"foodname\">{{ food.name }}</p>\n                <p class=\"foodnum\">月售 {{ food.monthnum }}</p>\n                <p class=\"foodnum\" style=\"padding: 0px 0px 7px 0\">{{ food.content }}</p>\n                <p class=\"foodprice\">￥{{ food.price }}</p>\n                <p class=\"iconfont icon-add-bold\" style=\"margin-left: 60px\" @click.stop=\"addShare(food)\"></p>\n              </div>\n            </li>\n          </ul>\n        </pull-to>\n      </div>\n    </div>\n\n    <!-- 购物车 -->\n    <div class=\"shoppingCart\" is-link style=\"z-index: 9999\">\n      <p class=\"iconfont icon-icon-test\" @click=\"showPopup\"></p>\n      <p class=\"sum-price\">￥{{ total }}</p>\n      <p class=\"settlement\" @click=\"Onsettlement\">去结算</p>\n    </div>\n    <van-popup class=\"shoppingList\" v-model=\"show\" position=\"bottom\" round>\n      <div v-if=\"!shoppingFoodList.length\" class=\"p20 font14 font-grey f-r f-a-c f-j-c\" style=\"height: 200px\">购物车为空</div>\n      <ul>\n        <li v-for=\"(shopping, index) in shoppingFoodList\" :key=\"index\" class=\"p-r\">\n          <van-icon name=\"cross\" class=\"p-a\" style=\"top: 10px; right: 10px\" @click=\"shopDel(index)\" />\n          <div class=\"shopping-details\">\n            <img :src=\"shopping.img\" alt=\"\" />\n            <div class=\"shpping-right\">\n              <p class=\"shopping-name\">{{ shopping.name }}</p>\n              <p class=\"shoppingprice\">￥{{ shopping.price }}</p>\n              <p class=\"iconfont icon-minus-bold\" @click=\"changeNum(index, -1)\"></p>\n              <p class=\"foodshare\">{{ shopping.buyNum }}</p>\n              <p class=\"iconfont icon-add-bold\" @click=\"changeNum(index, 1)\"></p>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </van-popup>\n\n    <!-- 投诉 -->\n    <van-dialog v-model=\"show1\" title=\"投诉\" show-cancel-button confirmButtonColor=\"rgb(102, 161, 136)\" @close=\"content = ''\" @confirm=\"reply\">\n      <div style=\"padding:15px\">\n        <van-field v-model=\"content\" rows=\"4\" autosize label=\"\" type=\"textarea\" placeholder=\"请输入投诉\" />\n      </div>\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport PullTo from \"vue-pull-to\";\nimport * as api from \"@/api/api\";\nimport calculate from \"@/utils/calculate\";\n\nexport default {\n  name: \"\",\n  data() {\n    return {\n      value: \"\",\n      activeKey: 0,\n      share: 0,\n      sumPrice: 0,\n      show: false,\n      show1: false,\n      storeInfo: {},\n      content: \"\",\n      sortList: [],\n      commodityList: [],\n      shoppingFoodList: [],\n    };\n  },\n  components: {\n    PullTo,\n  },\n  async created() {\n    if (this.$route.params.shoppingFoodList) {\n      this.shoppingFoodList = this.$route.params.shoppingFoodList;\n    }\n    await this.getData();\n    await this.getType();\n    await this.getMenus();\n  },\n  methods: {\n    // 获取店铺详情\n    async getData() {\n      await api\n        .storesone({\n          id: this.$route.query.id,\n        })\n        .then((res) => {\n          this.storeInfo = res.data;\n        });\n    },\n\n    // 投诉\n    reply() {\n      if (this.replycontent == \"\") {\n        this.$toast(\"投诉内容为空!\");\n        return;\n      }\n      api\n        .reportsave({\n          sid: this.storeInfo.id,\n          uid: sessionStorage.getItem(\"id\"),\n          content: this.content,\n        })\n        .then((res) => {\n          if (res.code == 200) {\n            this.$toast(\"投诉成功!\");\n            this.show = false;\n            this.content = \"\";\n          }\n        });\n    },\n\n    // 获取分类\n    async getType() {\n      await api\n        .typelist({\n          limit: 999,\n          offset: 1,\n          sid: this.storeInfo.id,\n        })\n        .then((res) => {\n          this.sortList = [\n            {\n              id: 0,\n              name: \"全部\",\n            },\n            ...res.data.list,\n          ];\n        });\n    },\n\n    // 获取菜单\n    async getMenus() {\n      await api\n        .menuslist({\n          limit: 9999,\n          offset: 1,\n          status: \"启用\",\n          name: this.value,\n          sid: this.$route.query.id,\n          type:\n            this.activeKey === 0 ? \"\" : this.sortList[this.activeKey][\"name\"],\n        })\n        .then((res) => {\n          this.commodityList = res.data.list;\n        });\n    },\n\n    onClickLeft() {\n      this.$toast(\"返回\");\n    },\n    onClickRight() {\n      this.$toast(\"按钮\");\n    },\n\n    // 添加到购物车\n    addShare(item) {\n      try {\n        Object.keys(this.shoppingFoodList).forEach((k) => {\n          if (item.id == this.shoppingFoodList[k].id) {\n            throw new Error();\n          }\n        });\n      } catch (error) {\n        this.$toast(\"该商品已存在购物车中!\");\n        return;\n      }\n      this.shoppingFoodList.push({\n        ...item,\n        buyNum: 1,\n      });\n    },\n\n    changeNum(index, num) {\n      if (this.shoppingFoodList[index].buyNum == 1 && num == -1) {\n        return;\n      }\n      if (this.shoppingFoodList[index].buyNum == 99 && num == 1) {\n        return;\n      }\n      this.shoppingFoodList[index].buyNum += num;\n    },\n\n    shopDel(index) {\n      this.shoppingFoodList.splice(index, 1);\n    },\n\n    showPopup() {\n      this.show = true;\n    },\n\n    Onsettlement() {\n      if (!sessionStorage.getItem(\"id\")) {\n        this.$toast(\"请先登录\");\n        this.$router.push(\"/my\");\n        return;\n      }\n      if (this.shoppingFoodList.length) {\n        this.$router.push({\n          name: \"order\",\n          params: {\n            shoppingFoodList: this.shoppingFoodList,\n            storeInfo: this.storeInfo,\n          },\n        });\n      } else {\n        this.$toast(\"购物车为空!\");\n        return;\n      }\n    },\n  },\n  computed: {\n    total() {\n      let total = 0;\n      this.shoppingFoodList.forEach((i) => {\n        total += Number(calculate.cheng(Number(i.buyNum), Number(i.price)));\n      });\n      return this.$tool.floor(total, 2);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n* {\n  margin: 0;\n  padding: 0;\n}\n.commodity {\n  position: relative;\n  width: 100%;\n  height: 667px;\n  // padding-bottom: 40px;\n  background-color: rgb(248, 246, 246);\n  overflow: hidden;\n}\n.commodity-head /deep/ .van-nav-bar__content {\n  background-color: rgb(248, 246, 246);\n  height: 50px;\n  line-height: 50px;\n}\n.commodity-head /deep/ .van-icon-arrow-left::before {\n  font-size: 20px;\n  font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.order-details {\n  width: 100%;\n  height: 170px;\n  // background-color: pink;\n  text-align: center;\n}\n.commodity-name {\n  font-size: 20px;\n  font-weight: 600;\n  letter-spacing: 2px;\n  padding: 3px;\n}\n.order-details > span {\n  font-size: 13px;\n  padding: 5px 10px;\n}\n// 搜索\n.home-search {\n  padding: 0 30px;\n  // background-color: rgb(214, 213, 213) !important;\n}\n.home-search /deep/ .van-search {\n  width: 320px;\n}\n.home-search /deep/ .van-search__content {\n  width: 320px;\n  height: 40px;\n  // line-height: 35px;\n  padding-top: 5px;\n  padding-left: 15px;\n  border-radius: 12px;\n  border: 0.5px solid #000;\n  // box-shadow: 0 0 5px 2px #d8d8d8;\n  background: #fff;\n}\n.home-search /deep/ .icon-search:before {\n  font-size: 20px;\n  font-weight: 700;\n  color: rgb(102, 161, 136);\n}\n.home-search /deep/ .van-field__control {\n  padding-left: 15px;\n  font-size: 16px;\n}\n.home-search /deep/ .van-field__clear {\n  font-size: 20px;\n  // font-weight: 600;\n  color: rgb(102, 161, 136);\n}\n.commodity-list {\n  width: 100%;\n  height: 380px;\n  background: #fff;\n  margin-top: 20px;\n  border-radius: 25px 25px 0;\n  padding-bottom: 80px;\n}\n.commodity-body {\n  position: relative;\n  width: 100%;\n  height: 370px;\n  padding-top: 20px;\n  overflow: hidden;\n}\n.commodity-body /deep/ .van-sidebar-item {\n  height: 55px;\n  line-height: 55px;\n  text-align: center;\n  background: #fff;\n  border-radius: 5px;\n}\n.commodity-body /deep/ .van-sidebar-item--select,\n.van-sidebar-item--select:active {\n  background: #b8d9c6;\n}\n.commodity-body /deep/ .van-sidebar-item--select::before {\n  display: none;\n}\n\n// 右侧菜品列表\n.food-list {\n  width: 280px;\n  height: 310px !important;\n  // background-color: pink;\n  position: absolute;\n  top: 20px;\n  right: 8px;\n  padding-bottom: 100px;\n  // z-index: 999;\n}\n.food-details {\n  display: flex;\n  width: 100%;\n  height: 110px;\n  // background-color: powderblue;\n  border-radius: 15px;\n  margin-bottom: 15px;\n  box-shadow: 0 1px 5px 2px rgb(216, 216, 216);\n}\n.food-detailsRight {\n  padding-left: 15px;\n}\n.foodname {\n  font-size: 19px;\n  font-weight: 600;\n}\n.foodnum {\n  font-size: 13px;\n  padding: 3px 0;\n}\n.foodprice {\n  width: 71px;\n  float: left;\n  font-size: 20px;\n  color: red;\n  font-weight: 600;\n}\n.icon-minus-bold {\n  width: 23px;\n  height: 23px;\n  line-height: 23px;\n  text-align: center;\n  background-color: #b8d9c6;\n  float: left;\n  margin-left: 20px;\n  margin-top: 3px;\n  border-radius: 7px;\n  font-weight: 600;\n}\n.foodshare {\n  height: 20px;\n  line-height: 20px;\n  float: left;\n  margin-top: 5px;\n  padding: 0 3px;\n}\n.icon-add-bold {\n  width: 23px;\n  height: 23px;\n  line-height: 23px;\n  text-align: center;\n  background-color: #b8d9c6;\n  float: left;\n  // margin-left: 10px;\n  margin-top: 3px;\n  border-radius: 7px;\n  font-weight: 600;\n}\n.shoppingCart {\n  position: absolute;\n  width: 350px;\n  height: 50px;\n  line-height: 50px;\n  background-color: rgb(102, 161, 136);\n  bottom: 0;\n  left: 13px;\n  border-radius: 20px;\n}\n.icon-icon-test {\n  margin-left: 30px;\n  font-size: 30px;\n  font-weight: 600;\n  float: left;\n}\n.sum-price {\n  float: left;\n  padding-left: 15px;\n  font-size: 21px;\n}\n.settlement {\n  float: right;\n  width: 110px;\n  height: 100%;\n  background-color: #b8d9c6;\n  border-radius: 0 20px 20px 0;\n  text-align: center;\n  font-size: 20px;\n}\n.shoppingList {\n  max-height: 400px;\n  padding-bottom: 70px;\n}\n.shopping-details {\n  display: flex;\n  width: 310px;\n  height: 90px;\n  margin-left: 17px;\n  padding: 20px 15px;\n  // background-color: pink;\n}\n.shopping-details > img {\n  width: 90px;\n  height: 90px;\n  border-radius: 10px;\n}\n.shpping-right {\n  margin-left: 20px;\n  font-size: 20px;\n  font-weight: 600;\n}\n.shopping-name {\n  margin-bottom: 30px;\n}\n.shoppingprice {\n  width: 71px;\n  float: left;\n  font-size: 20px;\n  color: red;\n  font-weight: 600;\n  margin-right: 20px;\n}\n</style>\n"]}]}